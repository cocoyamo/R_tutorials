<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Data Cleaning and Transformation | Hello and welcome to our RStudio journey!</title>
  <meta name="description" content="This is a RStudio tutorial." />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Data Cleaning and Transformation | Hello and welcome to our RStudio journey!" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is a RStudio tutorial." />
  <meta name="github-repo" content="cocoyamo/R_tutorials" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Data Cleaning and Transformation | Hello and welcome to our RStudio journey!" />
  
  <meta name="twitter:description" content="This is a RStudio tutorial." />
  

<meta name="author" content="Moya" />


<meta name="date" content="2024-10-15" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="overview-of-tidyverse-and-core-functions.html"/>
<link rel="next" href="data-wrangling-and-reshaping.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Welcome!</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="rstudio-environment-and-installation.html"><a href="rstudio-environment-and-installation.html"><i class="fa fa-check"></i><b>2</b> RStudio Environment and Installation</a></li>
<li class="chapter" data-level="3" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html"><i class="fa fa-check"></i><b>3</b> Data Import and Reading</a>
<ul>
<li class="chapter" data-level="3.1" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#import-your-data"><i class="fa fa-check"></i><b>3.1</b> Import Your Data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#weather-math-data-explanation"><i class="fa fa-check"></i><b>3.1.1</b> Weather Math Data Explanation</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#dataset-packages"><i class="fa fa-check"></i><b>3.2</b> Dataset packages</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#babynames"><i class="fa fa-check"></i><b>3.2.1</b> babynames</a></li>
<li class="chapter" data-level="3.2.2" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#starwars"><i class="fa fa-check"></i><b>3.2.2</b> starwars</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-import-and-reading.html"><a href="data-import-and-reading.html#ways-to-check-data"><i class="fa fa-check"></i><b>3.3</b> Ways to Check Data</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="overview-of-tidyverse-and-core-functions.html"><a href="overview-of-tidyverse-and-core-functions.html"><i class="fa fa-check"></i><b>4</b> Overview of Tidyverse and Core Functions</a>
<ul>
<li class="chapter" data-level="4.1" data-path="overview-of-tidyverse-and-core-functions.html"><a href="overview-of-tidyverse-and-core-functions.html#pipe-example"><i class="fa fa-check"></i><b>4.1</b> pipe example</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="data-cleaning-and-transformation.html"><a href="data-cleaning-and-transformation.html"><i class="fa fa-check"></i><b>5</b> Data Cleaning and Transformation</a></li>
<li class="chapter" data-level="6" data-path="data-wrangling-and-reshaping.html"><a href="data-wrangling-and-reshaping.html"><i class="fa fa-check"></i><b>6</b> Data Wrangling and Reshaping</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-wrangling-and-reshaping.html"><a href="data-wrangling-and-reshaping.html#pivot"><i class="fa fa-check"></i><b>6.1</b> pivot</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-wrangling-and-reshaping.html"><a href="data-wrangling-and-reshaping.html#example-converting-wide-to-long-format"><i class="fa fa-check"></i><b>6.1.1</b> example: converting wide to long format</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-wrangling-and-reshaping.html"><a href="data-wrangling-and-reshaping.html#join"><i class="fa fa-check"></i><b>6.2</b> join</a></li>
<li class="chapter" data-level="6.3" data-path="data-wrangling-and-reshaping.html"><a href="data-wrangling-and-reshaping.html#bind"><i class="fa fa-check"></i><b>6.3</b> bind</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistical-analysis.html"><a href="statistical-analysis.html"><i class="fa fa-check"></i><b>7</b> Statistical Analysis</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#t-test"><i class="fa fa-check"></i><b>7.1</b> t-test</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#example-independent-t-test"><i class="fa fa-check"></i><b>7.1.1</b> example: Independent t-test</a></li>
<li class="chapter" data-level="7.1.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#example-paired-t-test"><i class="fa fa-check"></i><b>7.1.2</b> example: Paired t-test</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#anova"><i class="fa fa-check"></i><b>7.2</b> ANOVA</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="statistical-analysis.html"><a href="statistical-analysis.html#one-way-anova"><i class="fa fa-check"></i><b>7.2.1</b> one-way ANOVA</a></li>
<li class="chapter" data-level="7.2.2" data-path="statistical-analysis.html"><a href="statistical-analysis.html#two-way-anova"><i class="fa fa-check"></i><b>7.2.2</b> two-way ANOVA</a></li>
<li class="chapter" data-level="7.2.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#three-way-anova"><i class="fa fa-check"></i><b>7.2.3</b> three-way ANOVA</a></li>
<li class="chapter" data-level="7.2.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#mixed-anova"><i class="fa fa-check"></i><b>7.2.4</b> mixed ANOVA</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="statistical-analysis.html"><a href="statistical-analysis.html#post-hoc-analysis"><i class="fa fa-check"></i><b>7.3</b> Post hoc analysis</a></li>
<li class="chapter" data-level="7.4" data-path="statistical-analysis.html"><a href="statistical-analysis.html#regression-analysis"><i class="fa fa-check"></i><b>7.4</b> Regression analysis</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-visualization.html"><a href="data-visualization.html"><i class="fa fa-check"></i><b>8</b> Data Visualization</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-visualization.html"><a href="data-visualization.html#bar-chart"><i class="fa fa-check"></i><b>8.1</b> bar chart</a></li>
<li class="chapter" data-level="8.2" data-path="data-visualization.html"><a href="data-visualization.html#scatter-plot"><i class="fa fa-check"></i><b>8.2</b> scatter plot</a></li>
<li class="chapter" data-level="8.3" data-path="data-visualization.html"><a href="data-visualization.html#box-plot"><i class="fa fa-check"></i><b>8.3</b> box plot</a></li>
<li class="chapter" data-level="8.4" data-path="data-visualization.html"><a href="data-visualization.html#histogram"><i class="fa fa-check"></i><b>8.4</b> histogram</a></li>
<li class="chapter" data-level="8.5" data-path="data-visualization.html"><a href="data-visualization.html#density-plot"><i class="fa fa-check"></i><b>8.5</b> density plot</a></li>
<li class="chapter" data-level="8.6" data-path="data-visualization.html"><a href="data-visualization.html#mixed-graphs"><i class="fa fa-check"></i><b>8.6</b> mixed graphs</a>
<ul>
<li class="chapter" data-level="8.6.1" data-path="data-visualization.html"><a href="data-visualization.html#categorical-numeric"><i class="fa fa-check"></i><b>8.6.1</b> categorical * numeric</a></li>
<li class="chapter" data-level="8.6.2" data-path="data-visualization.html"><a href="data-visualization.html#numeric-numeric"><i class="fa fa-check"></i><b>8.6.2</b> numeric * numeric</a></li>
<li class="chapter" data-level="8.6.3" data-path="data-visualization.html"><a href="data-visualization.html#numeric-numeric-numeric"><i class="fa fa-check"></i><b>8.6.3</b> numeric * numeric * numeric</a></li>
<li class="chapter" data-level="8.6.4" data-path="data-visualization.html"><a href="data-visualization.html#numeric-numeric-numeric-categorical"><i class="fa fa-check"></i><b>8.6.4</b> numeric * numeric * numeric * categorical</a></li>
</ul></li>
<li class="chapter" data-level="8.7" data-path="data-visualization.html"><a href="data-visualization.html#additional-features-on-the-plot"><i class="fa fa-check"></i><b>8.7</b> additional features on the plot</a>
<ul>
<li class="chapter" data-level="8.7.1" data-path="data-visualization.html"><a href="data-visualization.html#labels"><i class="fa fa-check"></i><b>8.7.1</b> labels</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="data-visualization.html"><a href="data-visualization.html#‰∏çÁü•ÈÅìÊÄéÈ∫ºÊîπlabelÊ¨∏-È†≠Áóõ-„Ñû-ÂèØ‰ª•mutate‰ΩÜÂ•ΩÈ∫ªÁÖ©ÂëÄ"><i class="fa fa-check"></i><b>8.8</b> ‰∏çÁü•ÈÅìÊÄéÈ∫ºÊîπlabelÊ¨∏ È†≠Áóõ „Ñû ÂèØ‰ª•mutate‰ΩÜÂ•ΩÈ∫ªÁÖ©ÂëÄ</a>
<ul>
<li class="chapter" data-level="8.8.1" data-path="data-visualization.html"><a href="data-visualization.html#colors"><i class="fa fa-check"></i><b>8.8.1</b> colors</a></li>
<li class="chapter" data-level="8.8.2" data-path="data-visualization.html"><a href="data-visualization.html#scales"><i class="fa fa-check"></i><b>8.8.2</b> scales</a></li>
<li class="chapter" data-level="8.8.3" data-path="data-visualization.html"><a href="data-visualization.html#themes"><i class="fa fa-check"></i><b>8.8.3</b> themes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="efficiency-tips-for-data-processing.html"><a href="efficiency-tips-for-data-processing.html"><i class="fa fa-check"></i><b>9</b> Efficiency Tips for Data Processing</a></li>
<li class="chapter" data-level="10" data-path="data-export.html"><a href="data-export.html"><i class="fa fa-check"></i><b>10</b> Data Export</a></li>
<li class="chapter" data-level="11" data-path="colclusion-and-advanced-learning.html"><a href="colclusion-and-advanced-learning.html"><i class="fa fa-check"></i><b>11</b> Colclusion and Advanced Learning</a></li>
<li class="divider"></li>
<li><a href="https://github.com/cocoyamo/R_tutorials" target="blank">Check out cocoya's GitHub Repository</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Hello and welcome to our RStudio journey!</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-cleaning-and-transformation" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Data Cleaning and Transformation<a href="data-cleaning-and-transformation.html#data-cleaning-and-transformation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here is a dataset for superheros that I downloaded from <a href="https://github.com/dariomalchiodi/superhero-datascience/blob/master/content/data/heroes.csv?plain=1">here</a>.</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="data-cleaning-and-transformation.html#cb28-1" tabindex="-1"></a><span class="fu">library</span>(readr)</span>
<span id="cb28-2"><a href="data-cleaning-and-transformation.html#cb28-2" tabindex="-1"></a><span class="fu">setwd</span>  (<span class="st">&quot;~/Documents/R_tutorials&quot;</span>)</span>
<span id="cb28-3"><a href="data-cleaning-and-transformation.html#cb28-3" tabindex="-1"></a>heroes <span class="ot">&lt;-</span> <span class="fu">read_delim</span>(<span class="st">&quot;example files/heroes.csv&quot;</span>, </span>
<span id="cb28-4"><a href="data-cleaning-and-transformation.html#cb28-4" tabindex="-1"></a>    <span class="at">delim =</span> <span class="st">&quot;;&quot;</span>, <span class="at">escape_double =</span> <span class="cn">FALSE</span>, <span class="at">trim_ws =</span> <span class="cn">TRUE</span>)</span>
<span id="cb28-5"><a href="data-cleaning-and-transformation.html#cb28-5" tabindex="-1"></a><span class="fu">View</span>(heroes)</span></code></pre></div>
<p>Note that the spreadsheet is in <code>.csv</code> format. Therefore, when importing data, we should choose <code>From Text(readr)</code> instead of <code>From Text(Excel)</code>.</p>
<p>However, as you may notice from the <code>Preview</code>, the data is not ideal ‚Äì it appears as a single row, with all the information packed into one.</p>
<p>To resolve this, we can click on <code>Delimiter</code> and select <code>Semicolon</code>, telling RStudio that the columns in this dataset are separated by semicolons (<code>;</code>) rather than commas or tabs.</p>
<p>Once the data is properly imported, we can see that it contains information about many superheroes. If we want a clearer view to focus on the data that we need for analysis, we can use <code>select()</code> function to choose specific columns.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-cleaning-and-transformation.html#cb29-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb29-2"><a href="data-cleaning-and-transformation.html#cb29-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Height&quot;</span>, <span class="st">&quot;Weight&quot;</span>, <span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Eye color&quot;</span>, <span class="st">&quot;Hair color&quot;</span>, <span class="st">&quot;Strength&quot;</span>, <span class="st">&quot;Intelligence&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 8
##    Name       Height Weight Gender `Eye color` `Hair color`
##    &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;       
##  1 A-Bomb       203.  442.  M      Yellow      No Hair     
##  2 Abraxas       NA    NA   M      Blue        Black       
##  3 Abominati‚Ä¶   203.  442.  M      Green       No Hair     
##  4 Adam Monr‚Ä¶    NA    NA   M      Blue        Blond       
##  5 Agent 13     173.   61.0 F      Blue        Blond       
##  6 Air-Walker   189.  108.  M      Blue        White       
##  7 Agent Bob    178.   81.4 M      Brown       Brown       
##  8 Abe Sapien   191.   65.4 M      Blue        No Hair     
##  9 Abin Sur     186.   90.9 M      Blue        No Hair     
## 10 Angela        NA    NA   F      &lt;NA&gt;        &lt;NA&gt;        
## # ‚Ñπ 725 more rows
## # ‚Ñπ 2 more variables: Strength &lt;dbl&gt;, Intelligence &lt;chr&gt;</code></pre>
<p>Now, if we want to filter for superheroes with high intelligence, we can use the <code>filter()</code> function.</p>
<p>This function allows us to extract rows that meet specified conditions.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="data-cleaning-and-transformation.html#cb31-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb31-2"><a href="data-cleaning-and-transformation.html#cb31-2" tabindex="-1"></a>  <span class="fu">filter</span>(Intelligence <span class="sc">==</span> <span class="st">&quot;high&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 144 √ó 12
##    Name      Identity `Birth place` Publisher Height Weight
##    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
##  1 Abraxas   Abraxas  Within Etern‚Ä¶ Marvel C‚Ä¶   NA     NA  
##  2 Abe Sapi‚Ä¶ Abraham‚Ä¶ &lt;NA&gt;          Dark Hor‚Ä¶  191.    65.4
##  3 Angela    &lt;NA&gt;     &lt;NA&gt;          Image Co‚Ä¶   NA     NA  
##  4 Yoda      Yoda     &lt;NA&gt;          George L‚Ä¶   66.3   17.0
##  5 Zatanna   Zatanna‚Ä¶ &lt;NA&gt;          DC Comics  170.    57.8
##  6 Yellowja‚Ä¶ Hank Pym Elmsford, Ne‚Ä¶ Marvel C‚Ä¶  183.    83.7
##  7 X-Man     Nate Gr‚Ä¶ American Nor‚Ä¶ Marvel C‚Ä¶  176.    61.8
##  8 Wonder W‚Ä¶ Diana P‚Ä¶ Themyscira    DC Comics  183.    74.7
##  9 Watcher   Uatu     &lt;NA&gt;          Marvel C‚Ä¶   NA     NA  
## 10 Warlock   Adam Wa‚Ä¶ The Beehive,‚Ä¶ Marvel C‚Ä¶  188.   108. 
## # ‚Ñπ 134 more rows
## # ‚Ñπ 6 more variables: Gender &lt;chr&gt;,
## #   `First appearance` &lt;dbl&gt;, `Eye color` &lt;chr&gt;,
## #   `Hair color` &lt;chr&gt;, Strength &lt;dbl&gt;, Intelligence &lt;chr&gt;</code></pre>
<p>In fact, <code>select()</code> and <code>filter()</code> can be combined.</p>
<p>Let‚Äôs look for female superheroes with strength over 50 and high intelligence levels.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data-cleaning-and-transformation.html#cb33-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb33-2"><a href="data-cleaning-and-transformation.html#cb33-2" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Strength&quot;</span>, <span class="st">&quot;Intelligence&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb33-3"><a href="data-cleaning-and-transformation.html#cb33-3" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">&amp;</span> Strength <span class="sc">&gt;=</span> <span class="dv">50</span> <span class="sc">&amp;</span> Intelligence <span class="sc">==</span> <span class="st">&quot;high&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 18 √ó 4
##    Name            Gender Strength Intelligence
##    &lt;chr&gt;           &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;       
##  1 Angela          F           100 high        
##  2 Wonder Woman    F           100 high        
##  3 Valkyrie        F            95 high        
##  4 Supergirl       F           100 high        
##  5 Silk Spectre II F            55 high        
##  6 She-Hulk        F           100 high        
##  7 Power Girl      F           100 high        
##  8 Phoenix         F           100 high        
##  9 Lady Bullseye   F            75 high        
## 10 Jean Grey       F            80 high        
## 11 Granny Goodness F           100 high        
## 12 Giganta         F            90 high        
## 13 Faora           F            95 high        
## 14 Donna Troy      F            95 high        
## 15 Cheetah III     F           100 high        
## 16 Cat             F            90 high        
## 17 Captain Marvel  F            90 high        
## 18 Big Barda       F           100 high</code></pre>
<p>If we want to adjust this filter to include superheroes with either <code>good</code> or <code>high</code> intelligence, there are two ways to do it.</p>
<p>The first method is to use the <code>|</code> operator (which means ‚Äúor‚Äù). The second method is to use the <code>%in%</code> operator, which selects data that fits either of the specified conditions.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-cleaning-and-transformation.html#cb35-1" tabindex="-1"></a><span class="co"># method 1</span></span>
<span id="cb35-2"><a href="data-cleaning-and-transformation.html#cb35-2" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb35-3"><a href="data-cleaning-and-transformation.html#cb35-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Strength&quot;</span>, <span class="st">&quot;Intelligence&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb35-4"><a href="data-cleaning-and-transformation.html#cb35-4" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">&amp;</span> Strength <span class="sc">&gt;=</span> <span class="dv">50</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-5"><a href="data-cleaning-and-transformation.html#cb35-5" tabindex="-1"></a>  <span class="fu">filter</span>(Intelligence <span class="sc">==</span> <span class="st">&quot;high&quot;</span> <span class="sc">|</span> Intelligence <span class="sc">==</span> <span class="st">&quot;good&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 47 √ó 4
##    Name         Gender Strength Intelligence
##    &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;       
##  1 Angela       F           100 high        
##  2 Wonder Girl  F            90 good        
##  3 Wonder Woman F           100 high        
##  4 Valkyrie     F            95 high        
##  5 Vindicator   F            65 good        
##  6 Thor Girl    F            85 good        
##  7 T-X          F            65 good        
##  8 Supergirl    F           100 high        
##  9 Stargirl     F            80 good        
## 10 Spider-Gwen  F            55 good        
## # ‚Ñπ 37 more rows</code></pre>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-cleaning-and-transformation.html#cb37-1" tabindex="-1"></a><span class="co"># method 2</span></span>
<span id="cb37-2"><a href="data-cleaning-and-transformation.html#cb37-2" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb37-3"><a href="data-cleaning-and-transformation.html#cb37-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">c</span>(<span class="st">&quot;Name&quot;</span>, <span class="st">&quot;Gender&quot;</span>, <span class="st">&quot;Strength&quot;</span>, <span class="st">&quot;Intelligence&quot;</span>)) <span class="sc">|&gt;</span></span>
<span id="cb37-4"><a href="data-cleaning-and-transformation.html#cb37-4" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">&quot;F&quot;</span> <span class="sc">&amp;</span> Strength <span class="sc">&gt;=</span> <span class="dv">50</span>) <span class="sc">|&gt;</span></span>
<span id="cb37-5"><a href="data-cleaning-and-transformation.html#cb37-5" tabindex="-1"></a>  <span class="fu">filter</span>(Intelligence <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;high&quot;</span>, <span class="st">&quot;good&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 47 √ó 4
##    Name         Gender Strength Intelligence
##    &lt;chr&gt;        &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;       
##  1 Angela       F           100 high        
##  2 Wonder Girl  F            90 good        
##  3 Wonder Woman F           100 high        
##  4 Valkyrie     F            95 high        
##  5 Vindicator   F            65 good        
##  6 Thor Girl    F            85 good        
##  7 T-X          F            65 good        
##  8 Supergirl    F           100 high        
##  9 Stargirl     F            80 good        
## 10 Spider-Gwen  F            55 good        
## # ‚Ñπ 37 more rows</code></pre>
<p>Both methods give us the same result. While the first method is more straightforward, I personally feel cooler using the second oneüòé.</p>
<p>Now, let‚Äôs calculate the superheroes‚Äô Body Mass Index (BMI). The formula is:</p>
<p><span class="math display">\[
BMI = weight(kg)/height(m)^2
\]</span></p>
<p>So, we need to :</p>
<ul>
<li><p>Add a new column that converts height from centimeters to meters.</p></li>
<li><p>Square the height in meters.</p></li>
<li><p>Divide weight by the square of the height.</p></li>
</ul>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-cleaning-and-transformation.html#cb39-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb39-2"><a href="data-cleaning-and-transformation.html#cb39-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Height_m =</span> Height <span class="sc">/</span> <span class="dv">100</span>) <span class="sc">|&gt;</span> <span class="co"># convert heights from cm to m</span></span>
<span id="cb39-3"><a href="data-cleaning-and-transformation.html#cb39-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Height_m2 =</span> Height_m<span class="sc">*</span>Height_m) <span class="sc">|&gt;</span> <span class="co"># square of the heights</span></span>
<span id="cb39-4"><a href="data-cleaning-and-transformation.html#cb39-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> Height_m2) <span class="co"># divide weights by the squrare of the heights</span></span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 15
##    Name      Identity `Birth place` Publisher Height Weight
##    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
##  1 A-Bomb    Richard‚Ä¶ Scarsdale, A‚Ä¶ Marvel C‚Ä¶   203.  442. 
##  2 Abraxas   Abraxas  Within Etern‚Ä¶ Marvel C‚Ä¶    NA    NA  
##  3 Abominat‚Ä¶ Emil Bl‚Ä¶ Zagreb, Yugo‚Ä¶ Marvel C‚Ä¶   203.  442. 
##  4 Adam Mon‚Ä¶ &lt;NA&gt;     &lt;NA&gt;          NBC - He‚Ä¶    NA    NA  
##  5 Agent 13  Sharon ‚Ä¶ &lt;NA&gt;          Marvel C‚Ä¶   173.   61.0
##  6 Air-Walk‚Ä¶ Gabriel‚Ä¶ Xandar, a pl‚Ä¶ Marvel C‚Ä¶   189.  108. 
##  7 Agent Bob Bob      &lt;NA&gt;          Marvel C‚Ä¶   178.   81.4
##  8 Abe Sapi‚Ä¶ Abraham‚Ä¶ &lt;NA&gt;          Dark Hor‚Ä¶   191.   65.4
##  9 Abin Sur  &lt;NA&gt;     Ungara        DC Comics   186.   90.9
## 10 Angela    &lt;NA&gt;     &lt;NA&gt;          Image Co‚Ä¶    NA    NA  
## # ‚Ñπ 725 more rows
## # ‚Ñπ 9 more variables: Gender &lt;chr&gt;,
## #   `First appearance` &lt;dbl&gt;, `Eye color` &lt;chr&gt;,
## #   `Hair color` &lt;chr&gt;, Strength &lt;dbl&gt;,
## #   Intelligence &lt;chr&gt;, Height_m &lt;dbl&gt;, Height_m2 &lt;dbl&gt;,
## #   BMI &lt;dbl&gt;</code></pre>
<p>We can either break this down into multiple steps or, for simplicity, combine everything into one line of code.</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="data-cleaning-and-transformation.html#cb41-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb41-2"><a href="data-cleaning-and-transformation.html#cb41-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> (Height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>) </span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 13
##    Name      Identity `Birth place` Publisher Height Weight
##    &lt;chr&gt;     &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;  &lt;dbl&gt;
##  1 A-Bomb    Richard‚Ä¶ Scarsdale, A‚Ä¶ Marvel C‚Ä¶   203.  442. 
##  2 Abraxas   Abraxas  Within Etern‚Ä¶ Marvel C‚Ä¶    NA    NA  
##  3 Abominat‚Ä¶ Emil Bl‚Ä¶ Zagreb, Yugo‚Ä¶ Marvel C‚Ä¶   203.  442. 
##  4 Adam Mon‚Ä¶ &lt;NA&gt;     &lt;NA&gt;          NBC - He‚Ä¶    NA    NA  
##  5 Agent 13  Sharon ‚Ä¶ &lt;NA&gt;          Marvel C‚Ä¶   173.   61.0
##  6 Air-Walk‚Ä¶ Gabriel‚Ä¶ Xandar, a pl‚Ä¶ Marvel C‚Ä¶   189.  108. 
##  7 Agent Bob Bob      &lt;NA&gt;          Marvel C‚Ä¶   178.   81.4
##  8 Abe Sapi‚Ä¶ Abraham‚Ä¶ &lt;NA&gt;          Dark Hor‚Ä¶   191.   65.4
##  9 Abin Sur  &lt;NA&gt;     Ungara        DC Comics   186.   90.9
## 10 Angela    &lt;NA&gt;     &lt;NA&gt;          Image Co‚Ä¶    NA    NA  
## # ‚Ñπ 725 more rows
## # ‚Ñπ 7 more variables: Gender &lt;chr&gt;,
## #   `First appearance` &lt;dbl&gt;, `Eye color` &lt;chr&gt;,
## #   `Hair color` &lt;chr&gt;, Strength &lt;dbl&gt;,
## #   Intelligence &lt;chr&gt;, BMI &lt;dbl&gt;</code></pre>
<p>Either approach will give the same result, so you can shoose whichever suits you best.</p>
<blockquote>
<p><strong>Tip:</strong> By default, new columns appear on the right, but if you prefer them on the left (to make it easier to check when there are many columns), you can specify <code>.after = "column_name"</code> in <code>mutate()</code> to position the new column immediately after a chosen column.</p>
</blockquote>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="data-cleaning-and-transformation.html#cb43-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="data-cleaning-and-transformation.html#cb43-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> (Height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="at">.before =</span> <span class="dv">1</span>) </span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 13
##      BMI Name       Identity `Birth place` Publisher Height
##    &lt;dbl&gt; &lt;chr&gt;      &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;
##  1 107.  A-Bomb     Richard‚Ä¶ Scarsdale, A‚Ä¶ Marvel C‚Ä¶   203.
##  2  NA   Abraxas    Abraxas  Within Etern‚Ä¶ Marvel C‚Ä¶    NA 
##  3 107.  Abominati‚Ä¶ Emil Bl‚Ä¶ Zagreb, Yugo‚Ä¶ Marvel C‚Ä¶   203.
##  4  NA   Adam Monr‚Ä¶ &lt;NA&gt;     &lt;NA&gt;          NBC - He‚Ä¶    NA 
##  5  20.3 Agent 13   Sharon ‚Ä¶ &lt;NA&gt;          Marvel C‚Ä¶   173.
##  6  30.4 Air-Walker Gabriel‚Ä¶ Xandar, a pl‚Ä¶ Marvel C‚Ä¶   189.
##  7  25.6 Agent Bob  Bob      &lt;NA&gt;          Marvel C‚Ä¶   178.
##  8  17.9 Abe Sapien Abraham‚Ä¶ &lt;NA&gt;          Dark Hor‚Ä¶   191.
##  9  26.4 Abin Sur   &lt;NA&gt;     Ungara        DC Comics   186.
## 10  NA   Angela     &lt;NA&gt;     &lt;NA&gt;          Image Co‚Ä¶    NA 
## # ‚Ñπ 725 more rows
## # ‚Ñπ 7 more variables: Weight &lt;dbl&gt;, Gender &lt;chr&gt;,
## #   `First appearance` &lt;dbl&gt;, `Eye color` &lt;chr&gt;,
## #   `Hair color` &lt;chr&gt;, Strength &lt;dbl&gt;, Intelligence &lt;chr&gt;</code></pre>
<p>If, for example, I want the new <code>BMI</code> column to appear immediately after the <code>Name</code> column, I can write <code>.after = "Name"</code> to achieve that.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="data-cleaning-and-transformation.html#cb45-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb45-2"><a href="data-cleaning-and-transformation.html#cb45-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> (Height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="at">.after =</span> <span class="st">&quot;Name&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 13
##    Name         BMI Identity `Birth place` Publisher Height
##    &lt;chr&gt;      &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt;         &lt;chr&gt;      &lt;dbl&gt;
##  1 A-Bomb     107.  Richard‚Ä¶ Scarsdale, A‚Ä¶ Marvel C‚Ä¶   203.
##  2 Abraxas     NA   Abraxas  Within Etern‚Ä¶ Marvel C‚Ä¶    NA 
##  3 Abominati‚Ä¶ 107.  Emil Bl‚Ä¶ Zagreb, Yugo‚Ä¶ Marvel C‚Ä¶   203.
##  4 Adam Monr‚Ä¶  NA   &lt;NA&gt;     &lt;NA&gt;          NBC - He‚Ä¶    NA 
##  5 Agent 13    20.3 Sharon ‚Ä¶ &lt;NA&gt;          Marvel C‚Ä¶   173.
##  6 Air-Walker  30.4 Gabriel‚Ä¶ Xandar, a pl‚Ä¶ Marvel C‚Ä¶   189.
##  7 Agent Bob   25.6 Bob      &lt;NA&gt;          Marvel C‚Ä¶   178.
##  8 Abe Sapien  17.9 Abraham‚Ä¶ &lt;NA&gt;          Dark Hor‚Ä¶   191.
##  9 Abin Sur    26.4 &lt;NA&gt;     Ungara        DC Comics   186.
## 10 Angela      NA   &lt;NA&gt;     &lt;NA&gt;          Image Co‚Ä¶    NA 
## # ‚Ñπ 725 more rows
## # ‚Ñπ 7 more variables: Weight &lt;dbl&gt;, Gender &lt;chr&gt;,
## #   `First appearance` &lt;dbl&gt;, `Eye color` &lt;chr&gt;,
## #   `Hair color` &lt;chr&gt;, Strength &lt;dbl&gt;, Intelligence &lt;chr&gt;</code></pre>
<blockquote>
<p><strong>Tip:</strong> Instead of using <code>select()</code> to manually keep only the columns you‚Äôve used during <code>mutate()</code> process, you can use <code>.keep = "used"</code>. This tells RStudio to retain only the columns involved in the mutation process.</p>
</blockquote>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="data-cleaning-and-transformation.html#cb47-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb47-2"><a href="data-cleaning-and-transformation.html#cb47-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> (Height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="at">.keep =</span> <span class="st">&quot;used&quot;</span>) </span></code></pre></div>
<pre><code>## # A tibble: 735 √ó 3
##    Height Weight   BMI
##     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
##  1   203.  442.  107. 
##  2    NA    NA    NA  
##  3   203.  442.  107. 
##  4    NA    NA    NA  
##  5   173.   61.0  20.3
##  6   189.  108.   30.4
##  7   178.   81.4  25.6
##  8   191.   65.4  17.9
##  9   186.   90.9  26.4
## 10    NA    NA    NA  
## # ‚Ñπ 725 more rows</code></pre>
<p>Now, I want to reflect on a personal experience from elementary school. After annual health exams, students were categorized based on their BMI, and teachers would tell those who were categorized as ‚Äúoverweight‚Äù, ‚Äúobese‚Äù, or ‚Äúunderweight‚Äù to be cautious about their BMI.</p>
<p>I‚Äôm not going to dive into the mental toll this caused me as a child who often got labeled ‚Äúoverweight‚Äù, but let‚Äôs use this as an example to categorize numerical data into groups in RStudio.</p>
<p>According to <a href="https://en.wikipedia.org/wiki/Body_mass_index">Wikipedia</a>, BMI categories are (simply) defined as follows:</p>
<table>
<thead>
<tr class="header">
<th>BMI</th>
<th>Category</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&lt; 18.5</td>
<td>underweight (UW)</td>
</tr>
<tr class="even">
<td>18.5 - 24.9 (inclusive)</td>
<td>normal weight (NW)</td>
</tr>
<tr class="odd">
<td>25.0 - 29.9 (inclusive)</td>
<td>overweight (OW)</td>
</tr>
<tr class="even">
<td>&gt;= 30</td>
<td>obese (OB)</td>
</tr>
</tbody>
</table>
<p>Now, let‚Äôs categorize the superheroes based on their BMI values.</p>
<p>We will use <code>mutate()</code> to create a new column for their BMI category.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-cleaning-and-transformation.html#cb49-1" tabindex="-1"></a>heroes <span class="sc">|&gt;</span></span>
<span id="cb49-2"><a href="data-cleaning-and-transformation.html#cb49-2" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI =</span> Weight <span class="sc">/</span> (Height<span class="sc">/</span><span class="dv">100</span>)<span class="sc">^</span><span class="dv">2</span>, <span class="at">.after =</span> <span class="st">&quot;Name&quot;</span>) <span class="sc">|&gt;</span> </span>
<span id="cb49-3"><a href="data-cleaning-and-transformation.html#cb49-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">BMI_status =</span> <span class="fu">case_when</span>(BMI <span class="sc">&lt;</span> <span class="fl">18.5</span> <span class="sc">~</span> <span class="st">&quot;underweight&quot;</span>,</span>
<span id="cb49-4"><a href="data-cleaning-and-transformation.html#cb49-4" tabindex="-1"></a>                                BMI <span class="sc">&gt;=</span> <span class="fl">18.5</span> <span class="sc">&amp;</span> BMI <span class="sc">&lt;=</span> <span class="fl">24.9</span> <span class="sc">~</span> <span class="st">&quot;normal_weight&quot;</span>,</span>
<span id="cb49-5"><a href="data-cleaning-and-transformation.html#cb49-5" tabindex="-1"></a>                                BMI <span class="sc">&gt;=</span> <span class="dv">25</span> <span class="sc">&amp;</span> BMI <span class="sc">&lt;=</span> <span class="fl">29.9</span> <span class="sc">~</span> <span class="st">&quot;overweight&quot;</span>,</span>
<span id="cb49-6"><a href="data-cleaning-and-transformation.html#cb49-6" tabindex="-1"></a>                                BMI <span class="sc">&gt;=</span> <span class="dv">30</span> <span class="sc">~</span> <span class="st">&quot;obese&quot;</span>), <span class="at">.after =</span> <span class="st">&quot;BMI&quot;</span>) <span class="ot">-&gt;</span> heroes2</span></code></pre></div>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-cleaning-and-transformation.html#cb50-1" tabindex="-1"></a>heroes2 <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="data-cleaning-and-transformation.html#cb50-2" tabindex="-1"></a>  <span class="fu">count</span>(BMI_status)</span></code></pre></div>
<pre><code>## # A tibble: 5 √ó 2
##   BMI_status        n
##   &lt;chr&gt;         &lt;int&gt;
## 1 normal_weight   201
## 2 obese           127
## 3 overweight      114
## 4 underweight      41
## 5 &lt;NA&gt;            252</code></pre>
<p>Once this is done, we can see how many superheroes are categorized as obese.</p>
<p>You may notice a row with <code>&lt;NA&gt;</code> values, which occurs when the data is incomplete. If we don‚Äôt want to include rows with missing BMI values in our analysis, we can remove them by using <code>na.omit()</code>. This makes further analysis much easier.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-cleaning-and-transformation.html#cb52-1" tabindex="-1"></a>heroes2 <span class="sc">|&gt;</span></span>
<span id="cb52-2"><a href="data-cleaning-and-transformation.html#cb52-2" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="sc">|&gt;</span></span>
<span id="cb52-3"><a href="data-cleaning-and-transformation.html#cb52-3" tabindex="-1"></a>  <span class="fu">count</span>(BMI_status) </span></code></pre></div>
<pre><code>## # A tibble: 4 √ó 2
##   BMI_status        n
##   &lt;chr&gt;         &lt;int&gt;
## 1 normal_weight    48
## 2 obese            40
## 3 overweight       40
## 4 underweight      13</code></pre>
<p>You can also <strong>update</strong> your dataset to exclude missing values. Here, I assigned the cleaner version of my data: <code>heroes2</code>.</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="data-cleaning-and-transformation.html#cb54-1" tabindex="-1"></a>heroes2 <span class="sc">|&gt;</span></span>
<span id="cb54-2"><a href="data-cleaning-and-transformation.html#cb54-2" tabindex="-1"></a>  <span class="fu">na.omit</span>() <span class="ot">-&gt;</span> heroes2</span></code></pre></div>
<p>If you want to further categorize the data, such as determining how many male and female superheroes are categorized as obese or underweight, you can do so by adding another column to the <code>count()</code> function.</p>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-cleaning-and-transformation.html#cb55-1" tabindex="-1"></a>heroes2 <span class="sc">|&gt;</span></span>
<span id="cb55-2"><a href="data-cleaning-and-transformation.html#cb55-2" tabindex="-1"></a>  <span class="fu">count</span>(Gender, BMI_status)</span></code></pre></div>
<pre><code>## # A tibble: 8 √ó 3
##   Gender BMI_status        n
##   &lt;chr&gt;  &lt;chr&gt;         &lt;int&gt;
## 1 F      normal_weight    26
## 2 F      obese             1
## 3 F      overweight        1
## 4 F      underweight      12
## 5 M      normal_weight    22
## 6 M      obese            39
## 7 M      overweight       39
## 8 M      underweight       1</code></pre>
<p>Alternatively, you can use <code>group_by()</code>, which we will cover in a future chapters, to achieve the same result.</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-cleaning-and-transformation.html#cb57-1" tabindex="-1"></a>heroes2 <span class="sc">|&gt;</span></span>
<span id="cb57-2"><a href="data-cleaning-and-transformation.html#cb57-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Gender) <span class="sc">|&gt;</span></span>
<span id="cb57-3"><a href="data-cleaning-and-transformation.html#cb57-3" tabindex="-1"></a>  <span class="fu">count</span>(BMI_status)</span></code></pre></div>
<pre><code>## # A tibble: 8 √ó 3
## # Groups:   Gender [2]
##   Gender BMI_status        n
##   &lt;chr&gt;  &lt;chr&gt;         &lt;int&gt;
## 1 F      normal_weight    26
## 2 F      obese             1
## 3 F      overweight        1
## 4 F      underweight      12
## 5 M      normal_weight    22
## 6 M      obese            39
## 7 M      overweight       39
## 8 M      underweight       1</code></pre>
<p>Lastly, let‚Äôs discuss renaming columns. You don‚Äôt need to go back to the original <code>.csv</code> or <code>.xlsx</code> files to change column names!</p>
<p>For example, if we want to change the <code>Hair color</code> column to <code>Hair_color</code> and <code>Eye color</code> colun to <code>Eye_color</code>, we can do this directly in RStudio using the <code>colnames()</code> function.</p>
<p><strong>rename()??</strong></p>
<blockquote>
<p>another way (add later)</p>
</blockquote>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-cleaning-and-transformation.html#cb59-1" tabindex="-1"></a><span class="fu">colnames</span>(heroes2)[<span class="fu">colnames</span>(heroes2) <span class="sc">==</span> <span class="st">&quot;Hair color&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Hair_color&quot;</span></span>
<span id="cb59-2"><a href="data-cleaning-and-transformation.html#cb59-2" tabindex="-1"></a><span class="fu">colnames</span>(heroes2)[<span class="fu">colnames</span>(heroes2) <span class="sc">==</span> <span class="st">&quot;Eye color&quot;</span>] <span class="ot">&lt;-</span> <span class="st">&quot;Eye_color&quot;</span></span></code></pre></div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="overview-of-tidyverse-and-core-functions.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-wrangling-and-reshaping.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/cocoyamo/R_tutorials/edit/gh-pages/index.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["_main.pdf", "_main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"fig_caption": true,
"theme": "simplex",
"toc_depth": 3,
"toc_float": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
